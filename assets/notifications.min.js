class Notifications{NotificationsArray=[];LastNotifications=[];NotificationTimeShow=8;displayNotifications=!0;temporaryNotificationsOff=!1;showLastNotificationstmp=0;temporaryTime=0;constructor(NotificationTimeShow){null!=NotificationTimeShow&&(this.NotificationTimeShow=NotificationTimeShow)}getIndexOfK(arr,k){for(var i=0;i<arr.length;i++)if(arr[i][0]==k)return i;return-1}getDate(){var xDate=new Date,sM="00"+(xDate.getMonth()+1),sD="00"+xDate.getDate(),sh="00"+xDate.getHours(),sm="00"+xDate.getMinutes(),ss="00"+xDate.getSeconds();return xDate.getFullYear()+"-"+sM.slice(-2)+"-"+sD.slice(-2)+" "+sh.slice(-2)+":"+sm.slice(-2)+":"+ss.slice(-2)}stateNotifications(state){this.displayNotifications=state}cancelTemporaryOff(){this.temporaryNotificationsOff=!1}setTemporaryOff(){this.temporaryNotificationsOff=!0}processLastNotificationsArray(NotificationID,NotificationType,NotificationText){var indexLast=this.getIndexOfK(this.LastNotifications,NotificationID);indexLast>-1?(this.LastNotifications[indexLast][1]=NotificationType,this.LastNotifications[indexLast][2]=NotificationText,this.LastNotifications[indexLast][3]=this.getDate()):(this.LastNotifications.length>=25&&this.LastNotifications.splice(0,1),this.LastNotifications.push([NotificationID,NotificationType,NotificationText,this.getDate()])),this.updateLastNotifications()}addNotification(NotificationID,NotificationType,NotificationText,NotificationTime){var xTmp=document.getElementById("_Lastnotif_");if(this.displayNotifications&&null==xTmp&&!this.temporaryNotificationsOff){var index;if(null==NotificationTime&&(NotificationTime=this.NotificationTimeShow),this.getIndexOfK(this.NotificationsArray,NotificationID)>-1)return void this.updateNotification(NotificationID,NotificationType,NotificationText,NotificationTime);80*(this.NotificationsArray.length+1)+55>document.documentElement.clientHeight&&this.delNotification(this.NotificationsArray[0][0]);for(var i=0;i<this.NotificationsArray.length;i++){var xBt=55+80*(this.NotificationsArray.length-i)+"px";document.getElementById("notify_"+this.NotificationsArray[i][0]).style.bottom=xBt}let div=document.createElement("div");div.id="notify_"+NotificationID,div.className="notification notification"+NotificationType,div.style="bottom: 55px;",div.innerHTML='<div class="notificationIcon"><i class="'+this.getNotificationIcon(NotificationType)+'"></i></div><div class="notificationText">'+NotificationText+"</div>",div.classList.add("notificationOpen"),document.body.appendChild(div),document.getElementById("notify_"+NotificationID).onclick=()=>{this.delNotification(NotificationID)};var timer=0;NotificationTime>0&&(timer=setTimeout(()=>{this.delNotification(NotificationID)},1e3*NotificationTime)),this.NotificationsArray.push([NotificationID,timer,NotificationType])}this.processLastNotificationsArray(NotificationID,NotificationType,NotificationText)}delNotification(NotificationID){if(null!=NotificationID){var xTmp=document.getElementById("notify_"+NotificationID);if(null!=xTmp){xTmp.remove();var index=this.getIndexOfK(this.NotificationsArray,NotificationID);if(index>-1&&(this.NotificationsArray[index][1]>0&&clearTimeout(this.NotificationsArray[index][1]),this.NotificationsArray.splice(index,1),this.NotificationsArray.length>0))for(var i=0;i<this.NotificationsArray.length;i++){var xBt=55+80*(this.NotificationsArray.length-i-1)+"px";document.getElementById("notify_"+this.NotificationsArray[i][0]).style.bottom=xBt}}}}updateNotification(NotificationID,NotificationType,NotificationText,NotificationTime){var index=this.getIndexOfK(this.NotificationsArray,NotificationID);if(index>-1){this.NotificationsArray[index][1]>0&&clearTimeout(this.NotificationsArray[index][1]),NotificationType!=this.NotificationsArray[index][2]&&(document.getElementById("notify_"+NotificationID).classList.remove("notification"+this.NotificationsArray[index][2]),document.getElementById("notify_"+NotificationID).classList.add("notification"+NotificationType),this.NotificationsArray[index][1]=NotificationType),document.getElementById("notify_"+NotificationID).innerHTML='<div class="notificationIcon"><i class="'+this.getNotificationIcon(NotificationType)+'"></i></div><div class="notificationText">'+NotificationText+"</div>";var timer=0;NotificationTime>0&&(timer=setTimeout(()=>{this.delNotification(NotificationID)},1e3*NotificationTime)),this.NotificationsArray[index][1]=timer}this.processLastNotificationsArray(NotificationID,NotificationType,NotificationText)}setNotificationTimeOut(NotificationID,NotificationTime){var index=this.getIndexOfK(this.NotificationsArray,NotificationID);if(index>-1){this.NotificationsArray[index][1]>0&&clearTimeout(this.NotificationsArray[index][1]);var timer=0;NotificationTime>0&&(timer=setTimeout(()=>{this.delNotification(NotificationID)},1e3*NotificationTime)),this.NotificationsArray[index][1]=timer}}delallNotifications(){for(var i=this.NotificationsArray.length-1;i>-1;i--)this.delNotification(this.NotificationsArray[i][0])}getNotificationIcon(NotificationType){return"Alert"==NotificationType?"fas fa-exclamation-triangle":"Info"==NotificationType?"fas fa-info-circle":"Warning"==NotificationType?"fas fa-skull-crossbones":"OK"==NotificationType?"far fa-check-circle":void 0}showLastNotifications(){var xTmp;if(null==document.getElementById("_Lastnotif_")){this.delallNotifications();let div=document.createElement("div");if(div.id="_Lastnotif_",div.className="lastnotifications",document.body.appendChild(div),this.LastNotifications.length>0){for(var xD="",i=0;i<this.LastNotifications.length;i++)xD=xD+'<div class="lastnotificationDataInfo"><div id="lastnotify_'+this.LastNotifications[i][0]+'" class="lastnotificationData"><div class="lastnotificationDataTime">'+this.LastNotifications[i][3]+'</div></div><div class="lastnotificationData"><div><i class="'+this.getNotificationIcon(this.LastNotifications[i][1])+'"></i></div><div>'+this.LastNotifications[i][2]+"</div></div></div>";document.getElementById("_Lastnotif_").innerHTML='<div id="_LastnotifData_" class="LastnotifData">'+xD+'</div><div class="lastnotificationsTopTitle"><div class="lastnotificationsTitle"><i class="far fa-bell"></i>Notifications</div><div class="lastnotificationClose"><i id="clearlastnotification" class="fas fa-trash-alt" title="Clear Notification History"></i>&nbsp;<i id="closeLastNotifications" class="far fa-times-circle" title="Close Notification History"></i></div></div>',document.getElementById("closeLastNotifications").onclick=()=>{this.closeLastNotifications()},document.getElementById("clearlastnotification").onclick=()=>{this.delLastNotifications()}}else document.getElementById("_Lastnotif_").classList.add("lastnotificationsCenter"),document.getElementById("_Lastnotif_").onclick=()=>{this.closeLastNotifications()},document.getElementById("_Lastnotif_").innerHTML='<div><i class="fas fa-info-circle"></i></div><div>There are no notifications</div>',this.showLastNotificationstmp=setTimeout(()=>{this.closeLastNotifications()},5e3);document.getElementById("_Lastnotif_").classList.add("lastnotificationsOpen")}}updateLastNotifications(){var xTmp;if(null!=document.getElementById("_LastnotifData_"))if(this.LastNotifications.length>0){for(var xD="",i=0;i<this.LastNotifications.length;i++)xD=xD+'<div class="lastnotificationDataInfo"><div id="lastnotify_'+this.LastNotifications[i][0]+'" class="lastnotificationData"><div class="lastnotificationDataTime">'+this.LastNotifications[i][3]+'</div></div><div class="lastnotificationData"><div><i class="'+this.getNotificationIcon(this.LastNotifications[i][1])+'"></i></div><div>'+this.LastNotifications[i][2]+"</div></div></div>";document.getElementById("_Lastnotif_").innerHTML='<div id="_LastnotifData_" class="LastnotifData">'+xD+'</div><div class="lastnotificationsTopTitle"><div class="lastnotificationsTitle"><i class="far fa-bell"></i>Notifications</div><div class="lastnotificationClose"><i id="clearlastnotification" class="fas fa-trash-alt" title="Clear Notification History"></i>&nbsp;<i id="closeLastNotifications" class="far fa-times-circle" title="Close Notification History"></i></div></div>',document.getElementById("closeLastNotifications").onclick=()=>{this.closeLastNotifications()},document.getElementById("clearlastnotification").onclick=()=>{this.delLastNotifications()}}else document.getElementById("_Lastnotif_").classList.add("lastnotificationsCenter"),document.getElementById("_Lastnotif_").onclick=()=>{this.closeLastNotifications()},document.getElementById("_Lastnotif_").innerHTML='<div><i class="fas fa-info-circle"></i></div><div>There are no notifications</div>',this.showLastNotificationstmp=setTimeout(()=>{this.closeLastNotifications()},5e3)}closeLastNotifications(){0!=this.showLastNotificationstmp&&(clearTimeout(this.showLastNotificationstmp),this.showLastNotificationstmp=0);var xTmp=document.getElementById("_Lastnotif_");null!=xTmp&&xTmp.remove()}delLastNotifications(){this.LastNotifications=[],this.closeLastNotifications()}}